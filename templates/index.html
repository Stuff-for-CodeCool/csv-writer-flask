{% extends "base_template.html" %}


{% block title %}Add stuff{% endblock %}

{% block content %}

<ul class="flashes">
    {% for message in get_flashed_messages() %}
    <li>{{ message }}</li>
    {% endfor %}
</ul>

<form action="{{ url_for('adding') }}" method="POST">
    <p>
        <label for="title">Title</label>
        <input type="text" id="title" name="title" />
    </p>
    <p>
        <label for="message">Message</label>
        <textarea name="message" id="message" cols="30" rows="10"></textarea>
    </p>
    <p><button type="submit">Submit</button></p>
</form>

{% if entries %}
<table>
    <thead>
        <tr>
            <th>Title</th>
            <th>Message</th>
            <th>View count</th>
        </tr>
    </thead>
    <tbody>
        {% for e in entries %}
        <tr>
            <td>
                <a href="{{ url_for( 'get_entry', id=e.id ) }}">
                    {{ e.title }}
                </a>
            </td>
            <td>{{ e.message }}</td>
            <td>{{ e.view_count }}</td>
        </tr>
        {% endfor %}
    </tbody>
</table>

{% else %}

<p>Nothing here</p>

{% endif %}

{% endblock %}
